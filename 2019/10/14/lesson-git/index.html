<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto+Sans+TC:300,300italic,400,400italic,700,700italic|fira+code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css">
  <script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"powerkaifu.github.io","root":"/","scheme":"Muse","version":"8.0.2","exturl":false,"sidebar":{"position":"left","width":320,"display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="Git 介紹Git 是一種版本控制系統（Version Control System），可以紀錄開發時各階段版本的檔案目錄結構（新增、修改、刪除內容的變化），可以隨時切換到過去某個版本時候的專案狀態，它也很像 RPG 角色扮演遊戲的紀錄檔，在打未知能力 BOSS 或關卡前，習慣會先記錄一下，全滅後還可以回到紀錄時的狀態重新挑戰。Git 是分散式的版控系統（Distributed Version C">
<meta property="og:type" content="article">
<meta property="og:title" content="Git">
<meta property="og:url" content="https://powerkaifu.github.io/2019/10/14/lesson-git/index.html">
<meta property="og:site_name" content="海海前端人生">
<meta property="og:description" content="Git 介紹Git 是一種版本控制系統（Version Control System），可以紀錄開發時各階段版本的檔案目錄結構（新增、修改、刪除內容的變化），可以隨時切換到過去某個版本時候的專案狀態，它也很像 RPG 角色扮演遊戲的紀錄檔，在打未知能力 BOSS 或關卡前，習慣會先記錄一下，全滅後還可以回到紀錄時的狀態重新挑戰。Git 是分散式的版控系統（Distributed Version C">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://powerkaifu.github.io/images/git/git_flow_chart.png">
<meta property="article:published_time" content="2019-10-13T18:53:57.153Z">
<meta property="article:modified_time" content="2021-01-22T19:13:47.544Z">
<meta property="article:author" content="Kai-Fu Chang">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://powerkaifu.github.io/images/git/git_flow_chart.png">


<link rel="canonical" href="https://powerkaifu.github.io/2019/10/14/lesson-git/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>Git | 海海前端人生</title>
  
    <script>
      function sendPageView() {
        if (CONFIG.hostname !== location.hostname) return;
        var uid = localStorage.getItem('uid') || (Math.random() + '.' + Math.random());
        localStorage.setItem('uid', uid);
        navigator.sendBeacon('https://www.google-analytics.com/collect', new URLSearchParams({
          v  : 1,
          tid: 'UA-175260737-1',
          cid: uid,
          t  : 'pageview',
          dp : encodeURIComponent(location.pathname)
        }));
      }
      document.addEventListener('pjax:complete', sendPageView);
      sendPageView();
    </script>






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">海海前端人生</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">ＡＦＵ部落格</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤<span class="badge">8</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類<span class="badge">5</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E4%BB%8B%E7%B4%B9"><span class="nav-number">1.</span> <span class="nav-text">Git 介紹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%9D-Git"><span class="nav-number">2.</span> <span class="nav-text">安裝 Git</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-%E5%8E%9F%E7%90%86"><span class="nav-number">3.</span> <span class="nav-text">Git 原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E8%88%87%E6%8F%90%E4%BA%A4"><span class="nav-number">4.</span> <span class="nav-text">初始化與提交</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%94%9A%E9%BA%BC%E6%98%AF%E6%8F%90%E4%BA%A4%EF%BC%88commit%EF%BC%89%EF%BC%9F"><span class="nav-number">5.</span> <span class="nav-text">甚麼是提交（commit）？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%8A%E5%82%B3%E8%87%B3%E9%81%A0%E7%AB%AF%E5%84%B2%E5%AD%98%E5%BA%AB%EF%BC%88GitHub%EF%BC%89"><span class="nav-number">6.</span> <span class="nav-text">上傳至遠端儲存庫（GitHub）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-GitHub-Pages"><span class="nav-number">7.</span> <span class="nav-text">使用 GitHub Pages</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Push"><span class="nav-number">8.</span> <span class="nav-text">Push</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Pull"><span class="nav-number">9.</span> <span class="nav-text">Pull</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Pull-%E8%88%87-Fetch"><span class="nav-number">9.1.</span> <span class="nav-text">Pull 與 Fetch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A8%E4%B8%8D%E4%B8%8A%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88"><span class="nav-number">9.2.</span> <span class="nav-text">推不上解決方案</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HEAD-%E6%98%AF%E4%B8%80%E5%8F%B0%E6%99%82%E5%85%89%E6%A9%9F"><span class="nav-number">10.</span> <span class="nav-text">HEAD 是一台時光機</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8F%9B-HEAD-%E6%8C%87%E6%A8%99"><span class="nav-number">10.1.</span> <span class="nav-text">切換 HEAD 指標</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reset"><span class="nav-number">11.</span> <span class="nav-text">Reset</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%AA%E9%99%A4%E8%88%87%E6%95%91%E5%9B%9E"><span class="nav-number">11.1.</span> <span class="nav-text">刪除與救回</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Branch"><span class="nav-number">12.</span> <span class="nav-text">Branch</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9E%E5%88%B0%E9%81%8E%E5%8E%BB%E5%BB%BA%E7%AB%8B%E5%88%86%E6%94%AF"><span class="nav-number">12.1.</span> <span class="nav-text">回到過去建立分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E5%88%86%E6%94%AF%E5%90%8D%E7%A8%B1"><span class="nav-number">12.2.</span> <span class="nav-text">更改分支名稱</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%AA%E9%99%A4%E5%88%86%E6%94%AF-d%E3%80%81-D"><span class="nav-number">12.3.</span> <span class="nav-text">刪除分支 -d、-D</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8F%9B%E5%88%86%E6%94%AF-checkout"><span class="nav-number">12.4.</span> <span class="nav-text">切換分支 checkout</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Merge"><span class="nav-number">13.</span> <span class="nav-text">Merge</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%88%E4%BD%B5%E5%88%86%E6%94%AF%E4%B8%80%E4%BA%9B%E6%83%85%E6%B3%81"><span class="nav-number">13.1.</span> <span class="nav-text">合併分支一些情況</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Merge%E3%80%81rebase-%E7%99%BC%E7%94%9F%E8%A1%9D%E7%AA%81"><span class="nav-number">13.2.</span> <span class="nav-text">Merge、rebase 發生衝突</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rebase-%E5%8F%A6%E4%B8%80%E7%A8%AE%E5%90%88%E4%BD%B5"><span class="nav-number">13.3.</span> <span class="nav-text">rebase 另一種合併</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#merge-%E5%92%8C-rebase-%E7%9A%84%E5%B7%AE%E7%95%B0"><span class="nav-number">13.4.</span> <span class="nav-text">merge 和 rebase 的差異</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-commit"><span class="nav-number">14.</span> <span class="nav-text">修改 commit</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%9C%80%E5%BE%8C%E4%B8%80%E6%AC%A1%E8%A8%8A%E6%81%AF"><span class="nav-number">14.1.</span> <span class="nav-text">修改最後一次訊息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E6%83%B3%E6%96%B0%E5%A2%9E%E4%B8%80%E5%80%8B-commit"><span class="nav-number">14.2.</span> <span class="nav-text">不想新增一個 commit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%9F%90%E5%80%8B%E6%AD%B7%E5%8F%B2%E7%B4%80%E9%8C%84%E8%A8%8A%E6%81%AF"><span class="nav-number">14.3.</span> <span class="nav-text">修改某個歷史紀錄訊息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%88%E4%BD%B5%E8%A8%8A%E6%81%AF"><span class="nav-number">14.4.</span> <span class="nav-text">合併訊息</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Detached-HEAD"><span class="nav-number">15.</span> <span class="nav-text">Detached HEAD</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A8%99%E7%B1%A4%EF%BC%88Tag%EF%BC%89"><span class="nav-number">16.</span> <span class="nav-text">標籤（Tag）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BC%95%E9%87%8F%E6%A8%99%E7%B1%A4%EF%BC%88lightweight-tag%EF%BC%89"><span class="nav-number">16.1.</span> <span class="nav-text">輕量標籤（lightweight tag）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%99%84%E8%A8%BB%E6%A8%99%E7%B1%A4%EF%BC%88annotated-tag%EF%BC%89"><span class="nav-number">16.2.</span> <span class="nav-text">附註標籤（annotated tag）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E8%88%87%E6%A8%99%E7%B1%A4%E5%B7%AE%E7%95%B0%EF%BC%9F"><span class="nav-number">16.3.</span> <span class="nav-text">分支與標籤差異？</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9A%AB%E5%AD%98%E9%80%B2%E5%BA%A6%EF%BC%88stash%EF%BC%89"><span class="nav-number">17.</span> <span class="nav-text">暫存進度（stash）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#cherry-pick"><span class="nav-number">18.</span> <span class="nav-text">cherry-pick</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#git-%E6%AA%94%E6%A1%88%E8%88%87%E7%9B%AE%E9%8C%84%E7%B5%90%E6%A7%8B"><span class="nav-number">19.</span> <span class="nav-text">.git 檔案與目錄結構</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#gitignore"><span class="nav-number">19.1.</span> <span class="nav-text">.gitignore</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#GitHub"><span class="nav-number">20.</span> <span class="nav-text">GitHub</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Fork"><span class="nav-number">20.1.</span> <span class="nav-text">Fork</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Clone-%E8%88%87-Fork-%E7%9A%84%E5%B7%AE%E7%95%B0"><span class="nav-number">20.1.1.</span> <span class="nav-text">Clone 與 Fork 的差異</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pull-Requests%EF%BC%88PR%EF%BC%89"><span class="nav-number">20.2.</span> <span class="nav-text">Pull Requests（PR）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%9F%E4%B8%8A-fork-%E5%B0%88%E6%A1%88%E7%9A%84%E9%80%B2%E5%BA%A6"><span class="nav-number">20.3.</span> <span class="nav-text">跟上 fork 專案的進度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTPS-%E5%92%8C-SSH"><span class="nav-number">20.4.</span> <span class="nav-text">HTTPS 和 SSH</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Actions%EF%BC%88%E8%A8%AD%E5%AE%9A%E8%87%AA%E5%8B%95%E4%BD%88%E7%BD%B2%EF%BC%89"><span class="nav-number">20.5.</span> <span class="nav-text">Git Actions（設定自動佈署）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#readme-%E8%88%87-wiki"><span class="nav-number">20.6.</span> <span class="nav-text">readme 與 wiki</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%86%B1%E9%96%80%E7%9A%84%E9%81%A0%E7%AB%AF%E5%84%B2%E5%AD%98%E5%BA%AB%E6%9C%8D%E5%8B%99%E5%B9%B3%E5%8F%B0"><span class="nav-number">20.7.</span> <span class="nav-text">熱門的遠端儲存庫服務平台</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-number">21.</span> <span class="nav-text">常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4"><span class="nav-number">21.1.</span> <span class="nav-text">基本指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BC%94%E5%8A%A9%E6%8C%87%E4%BB%A4"><span class="nav-number">21.2.</span> <span class="nav-text">輔助指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%AD%E6%8C%87%E4%BB%A4"><span class="nav-number">21.3.</span> <span class="nav-text">短指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%97%E5%87%BA-commit"><span class="nav-number">21.4.</span> <span class="nav-text">列出 commit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#window-%E7%B5%82%E7%AB%AF%E6%A9%9F%E6%8C%87%E4%BB%A4"><span class="nav-number">21.5.</span> <span class="nav-text">window 終端機指令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git-Flow"><span class="nav-number">22.</span> <span class="nav-text">Git Flow</span></a></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Kai-Fu Chang"
      src="/images/kaifu.png">
  <p class="site-author-name" itemprop="name">Kai-Fu Chang</p>
  <div class="site-description" itemprop="description">Simple is the best.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">40</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      相關資源
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://wdaweb.github.io/" title="https:&#x2F;&#x2F;wdaweb.github.io&#x2F;" rel="noopener" target="_blank">泰山網頁設計官網</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://rogeraabbccdd.github.io/F2E-book/" title="https:&#x2F;&#x2F;rogeraabbccdd.github.io&#x2F;F2E-book&#x2F;" rel="noopener" target="_blank">泰山職訓前端班課程講義</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://summer10920.github.io/" title="https:&#x2F;&#x2F;summer10920.github.io&#x2F;" rel="noopener" target="_blank">洛奇的邪惡組織手札</a>
        </li>
    </ul>
  </div>

        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://powerkaifu.github.io/2019/10/14/lesson-git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/kaifu.png">
      <meta itemprop="name" content="Kai-Fu Chang">
      <meta itemprop="description" content="Simple is the best.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="海海前端人生">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Git
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2019-10-14 02:53:57" itemprop="dateCreated datePublished" datetime="2019-10-14T02:53:57+08:00">2019-10-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新於</span>
        <time title="修改時間：2021-01-23 03:13:47" itemprop="dateModified" datetime="2021-01-23T03:13:47+08:00">2021-01-23</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Git-介紹"><a href="#Git-介紹" class="headerlink" title="Git 介紹"></a>Git 介紹</h1><p>Git 是一種版本控制系統（Version Control System），可以紀錄開發時各階段版本的檔案目錄結構（新增、修改、刪除內容的變化），可以隨時切換到過去某個版本時候的專案狀態，它也很像 RPG 角色扮演遊戲的紀錄檔，在打未知能力 BOSS 或關卡前，習慣會先記錄一下，全滅後還可以回到紀錄時的狀態重新挑戰。Git 是分散式的版控系統（Distributed Version Control），好處是即使沒有網路，也可以在本機電腦使用，等到有網路時在進行同步操作。</p>
<a id="more"></a>

<h1 id="安裝-Git"><a href="#安裝-Git" class="headerlink" title="安裝 Git"></a>安裝 Git</h1><ul>
<li>安裝環境 Git <a target="_blank" rel="noopener" href="https://git-scm.com/">Download Git</a></li>
<li>VSCode 安裝 Git History、GitLens、Git Graph</li>
</ul>
<h1 id="Git-原理"><a href="#Git-原理" class="headerlink" title="Git 原理"></a>Git 原理</h1><img data-src="/images/git/git_flow_chart.png" width="700">

<ol>
<li>git add 把檔案從工作目錄移至索引暫存區（Staging Area）。</li>
<li>git commit 把暫存區的內容移至儲存庫（Repository）。</li>
</ol>
<p>Git 就像倉庫貨物的控管流程，可以分為卡車卸貨區（工作目錄）、倉庫前的小廣場（索引暫存區）、倉庫（儲存庫），首先你會在卡車卸貨區（工作目錄）進行整理、打包、分類、移除瑕疵貨物（檔案新增、編輯、刪除…），接著將整理好的貨物入庫前，會將其先放到小廣場（索引暫存區）（<strong>git add .**），最後，紀錄貨物是甚麼用途、分類、明細（</strong>git commit**），將貨物送進倉庫裡（Repository）。</p>
<h1 id="初始化與提交"><a href="#初始化與提交" class="headerlink" title="初始化與提交"></a>初始化與提交</h1><ol>
<li>新增專案目錄，並設定為 VSCode 專案目錄，打開終端機，確認終端機顯示該目錄路徑。</li>
<li>鍵入<code>git init</code>初始化 git，看到建立一個 .git 隱藏目錄表示成功，版控全部只靠 .git 目錄在做事，如果把 .git 目錄移除，Git 就對這個目錄失去控制權。</li>
<li>若終端機顯示其他目錄路徑，可以使用右側垃圾桶清掉即可變為目前專案目錄的路徑。</li>
<li>可以設定作者、EMAIL：</li>
</ol>
<table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git config –global user.name “KaiFu Chang”</td>
<td>設定全域作者</td>
</tr>
<tr>
<td>git config –global user.email “<a href="mailto:&#112;&#x6f;&#119;&#101;&#x72;&#107;&#x61;&#105;&#x66;&#117;&#64;&#103;&#109;&#x61;&#x69;&#108;&#x2e;&#99;&#x6f;&#109;">&#112;&#x6f;&#119;&#101;&#x72;&#107;&#x61;&#105;&#x66;&#117;&#64;&#103;&#109;&#x61;&#x69;&#108;&#x2e;&#99;&#x6f;&#109;</a>“</td>
<td>設定全域 EMAIL</td>
</tr>
<tr>
<td>git config –local user.name “powerkaifu”</td>
<td>設定區域作者</td>
</tr>
<tr>
<td>git config –local user.email “<a href="mailto:&#112;&#x6f;&#119;&#101;&#114;&#107;&#x61;&#105;&#102;&#x75;&#64;&#103;&#x6d;&#97;&#105;&#x6c;&#46;&#99;&#111;&#x6d;">&#112;&#x6f;&#119;&#101;&#114;&#107;&#x61;&#105;&#102;&#x75;&#64;&#103;&#x6d;&#97;&#105;&#x6c;&#46;&#99;&#111;&#x6d;</a>“</td>
<td>設定區域 EMAIL</td>
</tr>
</tbody></table>
<p>PS：<code>git config --global --edit</code>，可以開啟 global 的 .gitconfig 檔。</p>
<ol start="5">
<li><p>每次修改過檔案後（新增、編輯、刪除），都必需執行 add 的動作，可以使用<code>git status</code>來檢查檔案的狀態。<br>在終端機以紅字顯示，表示尚未 add 的檔案，它們會有幾種狀態：</p>
<ul>
<li>Untracked files（未追蹤）：新增的檔案，尚未被 git 追蹤控管。</li>
<li>Modified：編輯過的檔案。</li>
<li>Deleted: 刪除的檔案。</li>
</ul>
<p>輸入<code>git add .</code>後，並再次輸入<code>git status</code>，檔案顯示綠色，表示已經增加到暫存區（Staging Area），只有在暫存區的檔案，才能 Commit 後存進儲存庫。最後輸入提交訊息 <code>git commit -m &quot;&quot;</code>，””裡面為想 Commit 的訊息，這樣就<strong>完成一次 git 的操作（add 與 commit）</strong>。完成第一次 add 與 commit，Git 才會產生 master 分支。</p>
<p>再次檢查狀態，出現「nothing to commit, working tree clean」表示沒有東西可以提交，工作目錄為空。若想將 commit 後的檔案返回工作目錄（Working Directory），可輸入<code>git reset head~</code>（等同 git reset <del>head –mixed 模式）。若想回到暫存區進行 commit，可以輸入`git reset head</del> –soft`。</p>
<p>PS：只輸入 <code>git commit</code> 指令會進入文字編輯模式，要先按<code>任意鍵</code> 進行編輯，編輯完按 <code>esc</code> 輸入 <code>:wq</code> 退出。</p>
</li>
</ol>
<h1 id="甚麼是提交（commit）？"><a href="#甚麼是提交（commit）？" class="headerlink" title="甚麼是提交（commit）？"></a>甚麼是提交（commit）？</h1><p>當每次提交一些東西時，Git 會產生一個快照，將所有檔案放置在一個物件記錄著，可以輸入<code>git log</code>（歷史紀錄） 會看到提交後 40 個字元長 16 進位 的 SHA-1（Secure Hash Algorithm 1）雜湊演算碼，這可以做為提交後的<strong>識別碼</strong>，使用指令配合 commit 識別碼，一般只需要 6~8 個數字即可辨識。</p>
<h1 id="上傳至遠端儲存庫（GitHub）"><a href="#上傳至遠端儲存庫（GitHub）" class="headerlink" title="上傳至遠端儲存庫（GitHub）"></a>上傳至遠端儲存庫（GitHub）</h1><ol>
<li><p>進入 <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a>，新建一個專案 test。</p>
</li>
<li><p>本地端需先建立工作目錄，並且初始化（git init），註冊遠端連結點與本地端綁定。</p>
<p>git remote add 遠端儲存庫名稱（可以自訂），綁定遠端儲存庫的網址<br>例如：git remote add origin <a target="_blank" rel="noopener" href="https://github.com/powerkaifu/test.git">https://github.com/powerkaifu/test.git</a><br>一般遠端專案位置會預設 origin，可以自訂名稱，它代表後面那串網址。</p>
</li>
<li><p>可以檢查隱藏目錄 .git 裡面的 config，如果有 [remote “origin”] 表示綁定成功<br>[remote “origin”]<br>url = <a target="_blank" rel="noopener" href="https://github.com/powerkaifu/test.git">https://github.com/powerkaifu/test.git</a></p>
</li>
<li><p>push 上傳至遠端 <code>git push -u origin master</code></p>
</li>
</ol>
<h1 id="使用-GitHub-Pages"><a href="#使用-GitHub-Pages" class="headerlink" title="使用 GitHub Pages"></a>使用 GitHub Pages</h1><p>第一種方式：</p>
<ol>
<li>進入 Settings，找到 GitHub Pages。</li>
<li>Source 選擇哪個分支要成為 gh-pages。</li>
</ol>
<p>第二種方式：</p>
<p>在 Repo 初始化時建立所需的分支，master 就存放專案原始碼，分支存放展示用的靜態網頁（例如：GitHub 的分支 gh-pages），<br>在本地端 master 分支上，建立 gh-pages 分支並 push 上去，GitHub 會自動開啟 gh-pages 分支靜態網頁的功能。</p>
<h1 id="Push"><a href="#Push" class="headerlink" title="Push"></a>Push</h1><p><code>git push -u origin 分支名稱</code> 推送至遠端 origin 儲存庫的分支名稱</p>
<ul>
<li>-u 會推到預設的遠端儲存庫服務，也可以不打 -u 直接推送指定的遠端儲存庫，<code>git push origin master</code></li>
<li>origin 可以修改它的遠端儲存庫名稱，一般都使用 origin，例如：git push -u develop master</li>
<li>master 為分支名稱，可以對指定的分支 push。</li>
</ul>
<p><code>git push -f</code> 要注意使用，暴力推上去，如果協同作業可能會影響其他人，GitHub 有保護機制，可進入 settings 頁面，左側 Branches，選擇分支，預設是 master，</p>
<h1 id="Pull"><a href="#Pull" class="headerlink" title="Pull"></a>Pull</h1><h2 id="Pull-與-Fetch"><a href="#Pull-與-Fetch" class="headerlink" title="Pull 與 Fetch"></a>Pull 與 Fetch</h2><p>git pull = git fetch + git merge，使用 pull 比較快。<br>git fetch 必須在遠端進度比本地端還要新使用，使用 git fetch 可以拉回遠端進度，但不會合併（此時樹圖遠端會領先本地端），因此自己還是要與遠端進行合併 <code>git merge orgin/分支名稱</code>，將使用快轉模式合併(無小耳朵)。</p>
<p>使用時機：</p>
<ul>
<li>當本機儲存庫沒有變更，或本機儲存庫和共享儲存庫上確認沒有衝突的話，就可以安心使用 pull。</li>
<li>非上述情況時，最好先使用 fetch 取得變更後再進行 merge 會比較安全。因為 pull 會自帶 merge，當有其他人同時編輯時，就容易發生問題。</li>
</ul>
<h2 id="推不上解決方案"><a href="#推不上解決方案" class="headerlink" title="推不上解決方案"></a>推不上解決方案</h2><p>使用在協同專案時，大家都在各自的分支作業，有人會先做完先上傳到遠端 remote，此時如果要 push 上去，由於本地端的專案比較舊 push 不上去，因此可以使用 git pull –rebase 將進度拉回來，而且不需要多一次 commit 的動作。</p>
<p>第一招： 先拉下來，再推上去。使用 git pull –rebase，拉回來不需要 commit，再 push 上去。<br>第二招：<code>git push -force</code>或<code>git push -f</code>，暴力硬推，會把其他人的內容覆蓋掉，要特別小心。</p>
<h1 id="HEAD-是一台時光機"><a href="#HEAD-是一台時光機" class="headerlink" title="HEAD 是一台時光機"></a>HEAD 是一台時光機</h1><p>HEAD 指標指向一個分支，也就是目前所在的分支，它很重要，因為時常忘記 HEAD 在哪個分支，在開發時要注意目前是在哪個分支。<br>HEAD 在檔案路徑 .git/HEAD 此檔找到，它指向目前分支的 commit（40 個 SHA-1 字元的雜湊碼），<br>以下指向 .git/refs/heads/master 這個分支，也就是說 .git/refs/heads/ 該目錄存放了所有分支檔案，砍了分支檔案就會不見，也可以更名。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// .git/HEAD，記錄了目前HEAD指標指向誰，目前HEAD是在 master 分支上</span></span><br><span class="line">ref: refs / heads / master</span><br><span class="line"></span><br><span class="line"><span class="comment">// .git/refs/heads/master</span></span><br><span class="line">bc3037b519ea2e899649eacc62df3ee584a25941</span><br></pre></td></tr></table></figure>

<h2 id="切換-HEAD-指標"><a href="#切換-HEAD-指標" class="headerlink" title="切換 HEAD 指標"></a>切換 HEAD 指標</h2><ul>
<li>先使用 <code>git log</code> 查詢 commit 碼。</li>
<li><code>git checkout commit碼</code> 可以將 HEAD 指標回到該 commit 碼的時間節點，commit 碼至少要輸入四個。</li>
</ul>
<h1 id="Reset"><a href="#Reset" class="headerlink" title="Reset"></a>Reset</h1><p>使用 Reset 的觀念（還原、前往某個 Commit 的意思），不管是用甚麼模式進行 Reset（即便是–hard），Commit 代碼會因為 Reset 到哪裡，中間那一大段就全部消失不見。Reset 其實代表回到過去某個 commit 點，中間那一大段只是隱藏起來看不到，可以使用 git reflog 查詢這些 commit 代碼，並使用<code>git reset commit 代碼</code>返回。</p>
<p>HEAD 指的是當前指標，<strong>它也有縮寫，可以用 @ 來代替</strong>，git reset @~ 等於 git reset head~。</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git reset head~ –soft</td>
<td>檔案還原至暫存區狀態，保留修改完檔案，讓使用者 Commit。</td>
</tr>
<tr>
<td>git reset head~ –mixed</td>
<td>等同預設值 git reset HEAD~，檔案會還原至工作目錄，保留修改完檔案。</td>
</tr>
<tr>
<td>git reset head~ –hard</td>
<td>直接放棄暫存區、工作區的檔案。</td>
</tr>
</tbody></table>
<p>–soft 與 –mixed 都會保留還原的節點，保留修改完的檔案，差異在於–soft 是在暫存區（commit 動作），–mixed 是在工作目錄（add 與 commit 動作）。<br>–hard 會直接拆掉 commit 節點，回到拆掉節點前的狀態。</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git reset head~</td>
<td>還原父節點，1 個~表示 1 次</td>
</tr>
<tr>
<td>git reset head~2</td>
<td>還原兩次父節點。</td>
</tr>
</tbody></table>
<p>還原 commit，原理與還原 HEAD 一樣，將 head 替換成 commit 代碼。</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git reset commit 代碼 –soft</td>
<td>還原至指定的 commit 碼，檔案會還原至暫存區（需 commit）。</td>
</tr>
<tr>
<td>git reset commit 代碼 –mixed</td>
<td>還原至指定的 commit 碼，檔案會還原至工作區（需 add、commit）。</td>
</tr>
<tr>
<td>git reset commit 代碼 –hard</td>
<td>還原至指定的 commit 碼，並且拆掉整個 commit。</td>
</tr>
</tbody></table>
<p>還原 ORIG_HEAD，紀錄一些比較危險的操作（merge、rebase、reset），Git 就會把 HEAD 的狀態存放在這裡，可以跳回危險操作之前的狀態。</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git reset orig_head –hard</td>
<td>返回危險記錄點的狀態，可以在 .git 目錄查到 orig_head 目前指向哪個 commit 碼。</td>
</tr>
</tbody></table>
<h2 id="刪除與救回"><a href="#刪除與救回" class="headerlink" title="刪除與救回"></a>刪除與救回</h2><p>刪除檔案對 Git 而言只是一個狀態，會在工作區標記刪除記號「-」，告訴 Git 要做刪除檔案的動作，需 add 到（暫存區），並且 commit 後才能完成刪除，檔案還是救得回來，使用 git reset head~ –hard 來還原。</p>
<h1 id="Branch"><a href="#Branch" class="headerlink" title="Branch"></a>Branch</h1><p>分支 = 分身，開分支等於開分身，對於使用 Git 來說，它很重要。在開發過程中，藉由分支來實驗某些功能，而不會破會原本正常運作的程式碼，等待成功確認沒問題再進行合併。分支也是 40 字元的雜湊碼，標記指向哪一個 Commit，不管是快轉、非快轉模式，合併過後都表示「你的內容都被已經我接收」。</p>
<ul>
<li><code>git merge commit代碼</code>，雖說合併分支，其實只是合併另一個 Commit。</li>
</ul>
<table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git branch</td>
<td>列出本地分支</td>
</tr>
<tr>
<td>git branch –remote</td>
<td>列出遠端分支</td>
</tr>
<tr>
<td>git branch -a</td>
<td>列出本地與遠端所有分支</td>
</tr>
<tr>
<td>git branch 分支名稱</td>
<td>新增分支</td>
</tr>
<tr>
<td>git branch -d 分支名稱</td>
<td>刪除分支</td>
</tr>
<tr>
<td>git branch -m 舊分支名稱 新分支名稱</td>
<td>修改分支名稱</td>
</tr>
<tr>
<td>git checkout 分支名稱</td>
<td>切換分支</td>
</tr>
<tr>
<td>git checkout -b 新分支名稱</td>
<td>建立分支，並且切換到該分支，配和 git checkout 到某分支上</td>
</tr>
<tr>
<td>git checkout -b 新分支名稱 commit 碼</td>
<td>直接在 commit 碼上建立分支</td>
</tr>
<tr>
<td>git checkout .</td>
<td>救回刪除檔案或修改檔案後悔回復上一次 commit 紀錄狀態</td>
</tr>
<tr>
<td>git merge 分支名稱 –no-ff</td>
<td>分支合併，會建立合併提交，產生小耳朵紀錄，推薦使用</td>
</tr>
<tr>
<td>git merge 分支名稱</td>
<td>快轉合併(fast-forward merge)，直線式合併，不推薦</td>
</tr>
</tbody></table>
<p>PS：git checkout 後面接分支名稱為切換分支，如果接檔名或路徑，則會回復上一次 commit 紀錄狀態。</p>
<h2 id="回到過去建立分支"><a href="#回到過去建立分支" class="headerlink" title="回到過去建立分支"></a>回到過去建立分支</h2><p>第一種方式：<br>先回到過去的 commit 時間點，<code>git checkout commit碼</code>，再建立新分支<code>git checkout -b 新分支名稱</code>。</p>
<p>第二種方式：<br>不想回到過去，直接建立<code>git branch 新的分支名稱 commit碼</code>，commit 碼為過去時間點。</p>
<h2 id="更改分支名稱"><a href="#更改分支名稱" class="headerlink" title="更改分支名稱"></a>更改分支名稱</h2><ul>
<li><code>git branch -m 舊分支名稱 新分支名稱</code></li>
</ul>
<h2 id="刪除分支-d、-D"><a href="#刪除分支-d、-D" class="headerlink" title="刪除分支 -d、-D"></a>刪除分支 -d、-D</h2><p>沒有不能刪除的分支，包括預設分支 master 也可以，但是，<strong>目前所在的分支不能刪除</strong>，只要切換到別的分支就可以刪除。</p>
<ul>
<li><code>git branch -d 分支名稱</code> 刪除分支，還沒有合併過後的分支，-d 參數不給刪的，git 會提醒使用 -D 參數才可以刪除。</li>
</ul>
<p>若刪除掉還沒合併的分支，怎麼救回來？</p>
<ol>
<li>git branch -D cat（刪除 cat 分支）。</li>
<li>刪除分支 Commit 雜湊碼其實還在，會出現這樣的訊息 Deleted branch cat（was 01168d8），</li>
<li>git branch cat 01168d8，把 cat 分支建立回來。</li>
</ol>
<p>分支只是一個指向某個 Commit 雜湊指標，刪除分支不會造成那些 Commit 消失，只是沒有人指到 Commit，只要把他們連接回來，內容就會回來。但是，刪掉後，卻忘記 SHA-1 commit 雜湊碼怎麼辦？ 可使用<code>git reflog</code>查詢，跟使用 reset 某個 commit 一樣。</p>
<h2 id="切換分支-checkout"><a href="#切換分支-checkout" class="headerlink" title="切換分支 checkout"></a>切換分支 checkout</h2><ul>
<li><code>git checkout 分支名稱</code> 切換到分支名稱，例如：git checkout devlop</li>
<li><code>git checkout -</code> 兩個分支來回切換</li>
</ul>
<h1 id="Merge"><a href="#Merge" class="headerlink" title="Merge"></a>Merge</h1><p>合併分支也就是合併自己開出去的分身，收割它們為你做的事情，合併分支的概念其實是合併他人的分支指向一個新的 commit，每個分支都只是一張便利貼，它們都是指向一個 commit 的指標。</p>
<ul>
<li>一般合併：<code>git merge 被合併的分支名稱</code>，做完分支項目，git checkout 切換到 master，再進行合併指令。</li>
<li>小耳朵合併：<code>git merge 被合併的分支名稱 --no-ff</code> 顯示同條支線要合併，剷生合併過的小耳朵，可知道何時合併，也就是不使用快轉模式合併。</li>
</ul>
<h2 id="合併分支一些情況"><a href="#合併分支一些情況" class="headerlink" title="合併分支一些情況"></a>合併分支一些情況</h2><ol>
<li>若是系出同源的雙胞胎分支（兩分支獨立前進）要進行合併，Git 會產生一個 Commit 來處理，這個 Commit 會指向二個 Commit（一般 Commit 只會指向某個 Commit），明確標記來自哪兩<br>個分支，兩獨立分支合併可能產生內容相同的衝突。</li>
<li>若是在同一條支線上合併，Git 會直接使用快轉模式（Fast Forward）進行合併，進度落後的會直接複製進度超前的內容並且移動至與進度超前相同的位置（HEAD），注意的是，進度超前無法<br>複製進度落後的內容，快轉模式不會產生新的 Commit 節點。</li>
<li>–no-ff 表示不使用 Fast-Forward merge，會產生小耳朵，並且產生新的 Commit 節點，也稱作為 3-way merge。</li>
<li>3-way merge 的處理方式比 fast-forward merge 要來的複雜。因為 fast-forward merge 的檔案內容只會在一個分支中修改，另一個分支沒有任何變動，保<br>證一定可以合併成功。3-way merge 的情況是二個分支都修改了檔案內容，如果修改的是同一個檔案中相同的位置，就會造成衝突（conflict）的情況。Git 在合併過程中發現衝突，會顯示警告訊息。</li>
</ol>
<h2 id="Merge、rebase-發生衝突"><a href="#Merge、rebase-發生衝突" class="headerlink" title="Merge、rebase 發生衝突"></a>Merge、rebase 發生衝突</h2><p>在兩個分支同時編輯同一個檔案，此時無論使用 Merge 或 rebase 合併都會發生衝突，在終端機會被標記為 both modified 狀態。</p>
<p>例如：同檔同行狀況</p>
<ul>
<li>修改 a 分支的 index.html 裡面的 h1，hello world</li>
<li>修改 b 分支的 index.html 裡面的 h1，hello git</li>
</ul>
<ol>
<li>Merge 衝突：3-way merge 時若發生衝突時，要手動編輯哪個才是需要的內容。</li>
<li>rebase 衝突：git status 會出現 rebase in progress，與 merge 一樣，要手動編輯需要的內容後，以下步驟：<ul>
<li>git add 加入暫存區</li>
<li>git rebase –continue</li>
</ul>
</li>
</ol>
<h2 id="rebase-另一種合併"><a href="#rebase-另一種合併" class="headerlink" title="rebase 另一種合併"></a>rebase 另一種合併</h2><p>rebase 這種合併方式盡量不要用，不會產生合併的 commit，很難知道發生狀況，rebase 重新定義真的參考基準，a、b 為各自獨立分支，假如以 a 分支是 head，要用 rebase 合併 b，那麼 b 這條分支是新的參考基準，a 會接到 b 分支上，但不會產生任何新的合併 commit。</p>
<p>如何取消 rebase?git reset HEAD^ –hard 只會拆掉最後一個 Commit，無法回到 Rebase 的狀態。<br>搭配使用<code>git reflog</code>，查出 rebase 前的 commit 的代碼，<code>git reset commit代碼 --hard</code>，或是使用記錄點 ORIG_HEAD 參數，它表示危險操作（分支合併、Reset、Rebase）之前的 HEAD 位置，<code>git reset ORIG_HEAD --hard</code>，更方便使用。</p>
<p>Rebase instead of merge：拉回來不會有額外的 Commit 的方式進行合併，也會使用快轉模式，覺得很像 Commit merge changes immediately…目前無法比較。</p>
<p><code>git pull --rebase</code></p>
<h2 id="merge-和-rebase-的差異"><a href="#merge-和-rebase-的差異" class="headerlink" title="merge 和 rebase 的差異"></a>merge 和 rebase 的差異</h2><ul>
<li>執行 merge 時，則會出現合併提交，也就是所謂的小耳朵。</li>
<li>執行 git pull –rebase 時，合併會排在同一分支線上。</li>
</ul>
<h1 id="修改-commit"><a href="#修改-commit" class="headerlink" title="修改 commit"></a>修改 commit</h1><h2 id="修改最後一次訊息"><a href="#修改最後一次訊息" class="headerlink" title="修改最後一次訊息"></a>修改最後一次訊息</h2><table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git commit –amend -m “”</td>
<td>可修改最後一次 commit 訊息，產生新的 Commit 雜湊碼</td>
</tr>
</tbody></table>
<h2 id="不想新增一個-commit"><a href="#不想新增一個-commit" class="headerlink" title="不想新增一個 commit"></a>不想新增一個 commit</h2><p>例如，commit 後想追加檔案或修改檔案的內容卻不想新增一個 commit，一樣 git add . 後，輸入以下指令，這樣就不會再新增一次 commit。</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git commit –amend –no-edit</td>
<td>新增檔案到暫存區卻不想修改 commit</td>
</tr>
</tbody></table>
<p>或者，使用 git rest head~ –soft，將檔案還原至暫存區，再新增檔案。</p>
<h2 id="修改某個歷史紀錄訊息"><a href="#修改某個歷史紀錄訊息" class="headerlink" title="修改某個歷史紀錄訊息"></a>修改某個歷史紀錄訊息</h2><ol>
<li>輸入<code>git rebase -i commit 碼</code>，commit 碼為 HEAD 到 commit 碼的範圍，會開啟 GitLens Interactive Rebase。</li>
<li>將要修改的 commit，把 pick 改成 edit，按下 START REBASE，出現允許使用 git commit –amend 的訊息。</li>
<li>輸入<code>git commit --amend -m &quot;想修改的訊息&quot;</code>，這邊要注意，會出現 detached HEAD 斷頭。</li>
<li>輸入<code>git rebase --continue</code>，移除斷頭完成修改，<strong>修改過的 commit，其 SHA-1 值會改變，會做出一個新的 commit</strong>。</li>
</ol>
<p>如果要返回這次 rebase，記得可以使用 git reset orig_head –hard，返回危險操作前一個狀態。</p>
<h2 id="合併訊息"><a href="#合併訊息" class="headerlink" title="合併訊息"></a>合併訊息</h2><p>使用在重複性 commit 卻都是雷同的操作，例如增加一個檔案後 commit，再增加一個檔案 commit，可以合併為一個。</p>
<ol>
<li>輸入<code>git rebase -i commit 碼</code>，commit 碼為 HEAD 到 commit 碼的範圍，會開啟 GitLens Interactive Rebase。</li>
<li>將要修改的 commit，把 pick 改成 squash，表示與前一個做訊息合併，可繼續選擇 squash 再與前一個合併，按下 START REBASE。</li>
<li>此時會進入編輯器，修改成自己想要的訊息，存檔關閉，修改成功。</li>
</ol>
<p>如果要返回這次 rebase，記得可以使用 git reset orig_head –hard，返回危險操作前一個狀態。</p>
<h1 id="Detached-HEAD"><a href="#Detached-HEAD" class="headerlink" title="Detached HEAD"></a>Detached HEAD</h1><p>一般來說，分支會指向某個 Commit，而 HEAD 指向某個分支的指標，也就是說我們可以將 HEAD 看成目前所在的分支。但是，若 HEAD 發生沒有指到某個分支的情況，這就稱為斷頭（Detached HEAD）。HEAD 只要指到沒有分支名稱的 commit 上，我們又進行了修改並且 commit，這樣就會產生新的 commit，這個沒有分支名稱的 commit 點就叫斷頭，它還是可以繼續進行 Commit，如果你肯為它取名，它就會成為新的分支。</p>
<p>斷頭是無名的新分支，還有個特點，當回到其他分支後，斷頭就會消失在樹狀圖上，看似消失其實存在，如果有記得它的 commit SHA-1，還是可以使用 git checkout commit 碼返回，但都沒有回來拜訪它，過不久之後它就會被 Git 資源機制回收。</p>
<ul>
<li>處理斷頭的方式</li>
</ul>
<ol>
<li><code>git branch 名稱</code> 如果你想要斷頭產生的新分支，給斷頭一個分支名稱，解決斷頭問題。</li>
<li><code>git checkout master</code> 回到 master 分支，也可以解除斷頭。</li>
<li><code>git merge 無名分支的分支名稱</code> 或是回到 master 合併無名分支的分支名稱，屬於 3-way merge，在合併過程中可能發生衝突。</li>
</ol>
<ul>
<li>遠端斷頭處理方式</li>
</ul>
<p>遠端斷頭發生於與本地端 HEAD 不一致的情況。例如 HEAD 本地端、遠端都指到 master 與 master/orgin</p>
<ol>
<li><code>git branch --remote</code> 顯示遠端分支</li>
<li><code>git checkout origin/abc</code> 試著切換到其他分支，會發現產生了斷頭。</li>
<li><code>git checkout -t origin/abc</code> 切換遠端分支不呈現斷頭，要加上 -t 或–track。</li>
</ol>
<p>PS：其實 -t 是在本機建立一個追蹤分支，其實就是等於將本地端分支改為 git checkout abc。</p>
<h1 id="標籤（Tag）"><a href="#標籤（Tag）" class="headerlink" title="標籤（Tag）"></a>標籤（Tag）</h1><p>標籤（tag）是一個指向某個 Commit 的指標，跟分支（branch）很像，都是 SHA-1 40 字元碼，但些許不同。<br>標籤有兩種：輕量標籤是用於暫時標記，附註標籤可以註解更多的資訊，例如貼標籤的人是誰、及註解的訊息。</p>
<h2 id="輕量標籤（lightweight-tag）"><a href="#輕量標籤（lightweight-tag）" class="headerlink" title="輕量標籤（lightweight tag）"></a>輕量標籤（lightweight tag）</h2><p><code>git tag 標籤名稱 commit碼</code> 例如：git tag hello ffda1d4，在 commit 碼 ffda1d4 的地方貼上 hello 標籤</p>
<h2 id="附註標籤（annotated-tag）"><a href="#附註標籤（annotated-tag）" class="headerlink" title="附註標籤（annotated tag）"></a>附註標籤（annotated tag）</h2><p><code>git tag 標籤名稱 commit碼 -a -m &quot;附註顯示的訊息&quot;</code> -a 建立附註標籤，-m 做 commit 訊息。</p>
<p>刪除標籤：<code>git tag -d 標籤名稱</code></p>
<p>不管哪種，標籤也是貼紙的概念，貼在某個 Commit 上，差異就在要不要為這標籤輸入資訊，標籤會存於 .git/refs/tags 裡面，<br>標籤被刪除，也不會影響到被指到的物件，標籤跟分支真正的差別在於分支會隨著 Commit 移動，但標籤不會，標籤只會留在原來貼的位置在。</p>
<h2 id="分支與標籤差異？"><a href="#分支與標籤差異？" class="headerlink" title="分支與標籤差異？"></a>分支與標籤差異？</h2><p>標籤與分支都是一種指標，它們都放在.git/refs 目錄下，分支在 heads 目錄，標籤在 tags 目錄。兩者被刪除不會影響到指到的那個物件，因為他們都是便利貼的概念。差別在於分支可以在 commit 節點上移動，標籤被貼上就屬於該 commit 的便利貼，不會移動。留下來（標籤），或我跟你走（分支）。</p>
<h1 id="暫存進度（stash）"><a href="#暫存進度（stash）" class="headerlink" title="暫存進度（stash）"></a>暫存進度（stash）</h1><p>如果要先忙別的任務，又不想先將現在的分支 commit，那麼要先儲存 stash 手邊的進度。</p>
<ul>
<li>第一種方式，先 Commit 目前進度，然後去處理其他的任務，完成後再 <code>git reset HEAD^</code>拆掉當前的 commit 將檔案丟回工作目錄繼續做。</li>
<li>第二種方式，使用 Stash。</li>
</ul>
<p>中斷目前的工作要切換到不同分支時候，因為修改還沒到可以提交的程度，原因只完成了部分，甚至功能不完全，處於一種尷尬狀態。Git 會在這種時候阻止切換到其他分支，除非有「commit」或「stash」的動作，否則無法切換。<strong>Stash 可以在該分支修改未提交狀態下使用</strong>，將該分支目前狀態儲存放到箱子裡冷凍起來（冷凍庫），尚未追蹤（Untracker）狀態的檔案預設是沒辦法被 Stash，除非使用 -u 參數。</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git stash</td>
<td>將進度放入冰箱冷凍起來。</td>
</tr>
<tr>
<td>git stash list</td>
<td>查看該分支目前箱子內容，WIP（Work In Progress）指哪個分支的箱子。</td>
</tr>
<tr>
<td>git stash pop stash@{箱子編號}</td>
<td>倒出箱子的內容，且丟掉該箱子，pop 指令等於 apply + drop。</td>
</tr>
<tr>
<td>git stash apply stash@{箱子編號}</td>
<td>倒出箱子內容，但不會丟掉箱子。</td>
</tr>
<tr>
<td>git stash drop stash@{箱子編號}</td>
<td>丟掉該箱子。</td>
</tr>
</tbody></table>
<p>Stash 是 Git 強大的工具，可以一次擁有好幾個儲存箱，套用箱子到不同的分支，或是取消已套用的內容，甚至還可以從儲存箱再建立新的分支。</p>
<h1 id="cherry-pick"><a href="#cherry-pick" class="headerlink" title="cherry-pick"></a>cherry-pick</h1><p>Merge 指令把指定的分支，合併到目前所在的分支。Cherry-Pick 指令其實也是一種合併。只是處理的對象不是分支，而是 Commit 節點。<br>也就是把某個 Commit 節點的檔案版本，合併到資料夾中的檔案。預設，執行這個指令會建立一個新的 Commit 節點。</p>
<p>如果不想建立新節點，可以加上 -n 選項。執行這個指令前，資料夾中被修改的檔案必須先存入儲存庫。否則會出現警告訊息，提醒必須先把修改的檔案存入檔案庫。<br>由於 Cherry-Pick 指令需要執行合併，因此也可能發生衝突。發生衝突可以選擇<code>放棄執行</code>或是<code>編輯衝突檔案</code>，如果決定放棄，可以執行 git cherry-pick –abort，<br>資料夾中的檔案和 Git 儲存庫都會回復到原來的狀態。若想編輯衝突檔案，找到衝突的位置加以修改，編輯好後執行 git cherry-pick –continue。</p>
<p><code>git cherry-pick commit碼 commit碼 commit碼</code> 撿其他 commit 碼及內容過來使用。<br><code>git cherry-pick commit碼 --no-commit</code> 不會直接合併，會先放在暫存區。</p>
<h1 id="git-檔案與目錄結構"><a href="#git-檔案與目錄結構" class="headerlink" title=".git 檔案與目錄結構"></a>.git 檔案與目錄結構</h1><p>這目錄是 git 的一切，在 Git 裡，有四個很重要的物件，分別是 Blob 物件、Tree 物件、Commit 物件以及 Tag 物件。<br>Git 只對內容有興趣，對空目錄無感，空目錄無法被加入 Git 裡。</p>
<ul>
<li>Git 的運作</li>
</ul>
<ol>
<li>檔案 add 加入 Git 後，檔案內容會被轉成 Blob 物件。</li>
<li>目錄、檔案會存放在 Tree 物件，Tree 物件會指向 Blob 物件，或是其他的 Tree 物件。</li>
<li>Commit 物件會指向某個 Tree 物件。除了第一個 Commit 之外，其他的 Commit 都會指向前一次的 Commit 物件。</li>
<li>Tag 物件會指向某個 Commit 物件。</li>
<li>Branch 分支不是四個物件之一，但會指向某個 Commit 物件。</li>
<li>推送 Git Server 後，在 .git/refs 會多出出一個 remote 的目錄，存放遠端的分支，它們也會指向某個 Commit 物件。</li>
<li>HEAD 指標不是四個物件之一，但會指向某個 Branch 分支。</li>
</ol>
<p>在 Git 的世界裡，會根據當下的 Commit，一個一個得把所有物件抽出來，且每次 add 到暫存區時，即使檔案內容只改了一個字，也會算出新的 SHA-1 值，<br>做出一顆全新的 Blob 物件，就像拎一串葡萄， 這也是所謂的快照（Snapshot）概念。每一次的 Commit 都是一個物件，它會指向某一個 Tree 物件（目錄），<br>而這些 Tree 物件會指向其他 Tree 物件（子目錄）或是 Blob 物件（檔案），結構就像葡萄串，只要伸手從源頭的 Commit 物件拎起來，整串內容都可以被拿出來。</p>
<p>refs/heads 記錄了分支指標的 40 commit SHA-1 值。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── hooks</span><br><span class="line">├── info</span><br><span class="line">├── logs</span><br><span class="line">├── objects 存放 Blob、Tree、Commit、Tag 物件</span><br><span class="line">└── refs 紀錄了 heads（分支指標）、remotes（遠端儲存庫）、tags</span><br><span class="line">COMMIT_EDITMSG</span><br><span class="line">config 設定檔</span><br><span class="line">description</span><br><span class="line">HEAD 紀錄目前指向的分支名稱（commit 碼）或是 其他 commit 碼</span><br><span class="line">index</span><br><span class="line">ORIG_HEAD 危險操作的紀錄點（commit 碼），git reset ORIG_HEAD --hard 可以返回之前的狀態</span><br><span class="line">sourcetreeconfig.json</span><br></pre></td></tr></table></figure>

<h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><p>在工作目錄下新增一個 .gitignore 檔案，可以忽略某些檔案或目錄不被 Git 追蹤，也就是說 .gitignore 的名單可以讓 Git 無視，感應不到。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*.tmp</span><br><span class="line">config&#x2F;database.yml</span><br><span class="line">node_modules</span><br><span class="line">.env</span><br><span class="line">nogrok.exe</span><br></pre></td></tr></table></figure>

<h1 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h1><h2 id="Fork"><a href="#Fork" class="headerlink" title="Fork"></a>Fork</h2><p>Fork 不是 Git 原生操作，是 GitHub 的一種機制，可將別人或自己的儲存庫 Fork 一份下來，這動作就好像 Git 的 branch。</p>
<h3 id="Clone-與-Fork-的差異"><a href="#Clone-與-Fork-的差異" class="headerlink" title="Clone 與 Fork 的差異"></a>Clone 與 Fork 的差異</h3><p>Fork 讓 Git 儲存庫分出另一個版本，很像 Clone 指令，Clone 的功能也是複製 Git 儲存庫，兩者的不同點在於 Clone 複製的 Git 儲存庫不會記錄是由哪一個 Git 儲存庫複製出來，<br>Fork 複製出來的 Git 儲存庫會保留它的來源 Git 儲存庫，將來這個 Fork 得到的 Git 儲存庫，可以再合併到原來的 Git 儲存庫。</p>
<p>也就是說，Fork 得到的儲存庫可以執行 Commit、建立分支、合併等各種操作，在同一段時間，原來的 Git 儲存庫也會進行修改和更新，現在可以在任意時間點，從原來的 Git 儲存庫取得更新，<br>並且套用到 Fork 得到的儲存庫。當程式專案開發完成，並且 Commit 到 Git 檔案庫後，可以發送一個 Pull Request 訊息給原來的 Git 儲存庫。<br>原來的 Git 儲存庫擁有者收到 Pull Request 的請求之後，如果採用我們的 Fork 儲存庫，可以把內容合併到原來的 Git 儲存庫。</p>
<h2 id="Pull-Requests（PR）"><a href="#Pull-Requests（PR）" class="headerlink" title="Pull Requests（PR）"></a>Pull Requests（PR）</h2><ul>
<li>發 PR 流程</li>
</ul>
<ol>
<li>A 是開發者，並擁有一個 master 開發分支。</li>
<li>B 很喜歡這個專案，但發現有個小問題。</li>
<li>於是 B fork 了 A 專案到自己 GitHub 帳號下的 Respoitory。</li>
<li>並將 <code>git clone git@github.com:使用者名稱/xxxxxx.git</code> fork 的檔案抓下來。</li>
<li>修改完畢後 push 到 GitHub，<code>git push origin master</code>。</li>
<li>在 Pull requests 下 PR，New pull request，並建立 create pull request，建立訊息向 A 申請合併分支。</li>
<li>A 認為 B 真是棒，於是 merge 了 A 的 PR。</li>
</ol>
<h2 id="跟上-fork-專案的進度"><a href="#跟上-fork-專案的進度" class="headerlink" title="跟上 fork 專案的進度"></a>跟上 fork 專案的進度</h2><p>第一招：砍掉重練<br>把 Fork 過來的專案砍掉，再重新 Fork 一次，保證最新版本。</p>
<p>第二招：不砍掉 Fork 過來的專案，跟上游同步</p>
<ol>
<li><code>git remote -v</code> 查看遠端自己專案的訊息。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">test https:&#x2F;&#x2F;github.com&#x2F;powerkaifu&#x2F;test.git (fetch)</span><br><span class="line">test https:&#x2F;&#x2F;github.com&#x2F;powerkaifu&#x2F;test.git (push)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><code>git remote add test2 對方遠端專案網址</code> 在遠端新增一個遠端儲存庫名稱，來源是對方遠端專案的網址。</li>
<li><code>git fetch test2</code> 取得最新版的內容，但沒有合併。</li>
<li><code>git merge test2/master</code> 與遠端合併。</li>
<li><code>git push test master</code> 再推回自己遠端 fork 的專案，讓本地端與遠端都是最新的進度。</li>
</ol>
<h2 id="HTTPS-和-SSH"><a href="#HTTPS-和-SSH" class="headerlink" title="HTTPS 和 SSH"></a>HTTPS 和 SSH</h2><p>本地儲存庫可以透過兩種方式，存取 GitHub 網站上的遠端儲存庫，第一種是 HTTPS，另一種是 SSH。兩者優點如下：</p>
<ol>
<li>HTTPS 和 SSH 通訊協定在傳送資料的過程中都會進行加密，因此是很安全的資料傳輸方式。</li>
<li>使用 HTTPS 上傳資料，Git 會要求輸入 GitHub 網站的帳號和密碼。</li>
<li>使用 SSH，必須建立一對金鑰（包括公鑰、私鑰），公鑰加入 GitHub 網站的帳號中。當要上傳資料時，GitHub 網站會先檢查電腦有沒有登錄公鑰，沒有就拒絕，<br>如果有就會顯示公鑰的密碼。密碼正確才會開始上傳資料。SSH 通訊提供兩道保護。但其實也可以不用設定金鑰的密碼，這樣只要在特定的電腦上執行，就可以直接傳送資料，<br>不需要輸入密碼，操作上更方便。</li>
<li>可以隨時切換 HTTPS 或是 SSH 通訊協定。</li>
</ol>
<ul>
<li>設定 SSH</li>
</ul>
<ol>
<li>終端機輸入 <code>ssh-keygen</code></li>
<li>接著會詢問儲存金鑰的路徑，直接按 Enter，預設即可。</li>
<li>然後輸入密碼兩次，此密碼是本地儲存庫傳送資料給 GitHub 時需要的密碼，或是按下 Enter 兩次跳過就不需要驗證密碼。</li>
<li>檔案總管 <code>C:\使用者\使用者帳號名稱\.ssh</code> 資料夾，裡面有兩個檔案，id_rsa（私鑰）、id_rsa.pub（公鑰），用編輯器開啟 id_rsa.pub，複製全部內容。</li>
<li>登入 GitHub，進入右上角圖像的 setting，點選左側選單的 SSH and GPG Keys，再選擇右上角 New SSH Key，輸入 title 及貼上公鑰內容。</li>
<li>同一台電腦上，不同使用者帳號的 SSH 金鑰是互相獨立，不能互相使用。</li>
</ol>
<h2 id="Git-Actions（設定自動佈署）"><a href="#Git-Actions（設定自動佈署）" class="headerlink" title="Git Actions（設定自動佈署）"></a>Git Actions（設定自動佈署）</h2><ol>
<li>每個 repository 都有個 Actions 可以設定自動佈署。</li>
<li>進入 Actions，選擇 set up a workflow yourself，將以下內容複製貼上。</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"># Action 名稱</span><br><span class="line">name: Deploy</span><br><span class="line"># 觸發時機，當推送到分支 master 時</span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches: [ master ]</span><br><span class="line"># 執行的工作</span><br><span class="line">jobs:</span><br><span class="line">  # 工作名稱</span><br><span class="line">  deploy:</span><br><span class="line">    # 執行工作的虛擬機作業系統</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    # 工作步驟</span><br><span class="line">    steps:</span><br><span class="line">      # 步驟一：複製程式碼</span><br><span class="line">      - name: checkout</span><br><span class="line">        # 使用的 actions/checkout 複製程式碼</span><br><span class="line">        uses: actions/checkout@master</span><br><span class="line"></span><br><span class="line">      # 步驟二：編譯及部署</span><br><span class="line">      - name: buildAndDeploy</span><br><span class="line">        uses: JamesIves/github-pages-deploy-action@master</span><br><span class="line">        # 步驟設定</span><br><span class="line">        env:</span><br><span class="line">          GITHUB_TOKEN : $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;</span><br><span class="line">          # 使用 master 分支的檔案</span><br><span class="line">          BASE_BRANCH: master</span><br><span class="line">          # 部署到 gh-pages 分支</span><br><span class="line">          BRANCH: gh-pages</span><br><span class="line">          # 編譯後要上傳的資料夾</span><br><span class="line">          FOLDER: dist</span><br><span class="line">          # 執行指令</span><br><span class="line">          BUILD_SCRIPT: npm install &amp;&amp; npm run build</span><br><span class="line">          # 動作完成後清除檔案</span><br><span class="line">          CLEAN: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>按右側 start commit，直接 commit，或替 main.yml 更名為 deploy.yml。</li>
<li>自動佈署完成會自動新增 gh-pages 分支，會將專案打包的靜態檔案（通常為 dist 目錄）都 push 到 gh-pages 裡面，最後要到 settings 將 gh-pages 打開。</li>
</ol>
<h2 id="readme-與-wiki"><a href="#readme-與-wiki" class="headerlink" title="readme 與 wiki"></a>readme 與 wiki</h2><p>readme.md 只做簡單說明，要詳細說明可以使用 GitHub 的 wiki 功能。</p>
<h2 id="熱門的遠端儲存庫服務平台"><a href="#熱門的遠端儲存庫服務平台" class="headerlink" title="熱門的遠端儲存庫服務平台"></a>熱門的遠端儲存庫服務平台</h2><ul>
<li>GitHub：擁有 GitHub Pages 功能，可擁有私人數據庫，免費方案是 3 人以下。（適合擁有自己的公開對外靜態網站）</li>
<li>GitLab：自架 Git 伺服器，有提供 web 視覺化管理介面，常用於企業內部開發。</li>
<li>Bitbucket：可擁有私人數據庫，免費方案是五人以下的的團隊。（適合公司專案的小型團隊）（沒有 GitHub Pages 功能）</li>
</ul>
<h1 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h1><h2 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h2><table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git init</td>
<td>初始化空專案</td>
</tr>
<tr>
<td>git status</td>
<td>查看工作目錄的狀態</td>
</tr>
<tr>
<td>git add . 或 git add all</td>
<td>將檔案加入暫存區(stage)</td>
</tr>
<tr>
<td>git commit -m “message”</td>
<td>commit 修改訊息</td>
</tr>
<tr>
<td>git clone 遠端儲存庫路徑</td>
<td>將專案複製下</td>
</tr>
<tr>
<td>git remote add origin 遠端儲存庫路徑</td>
<td>與遠端儲存庫連線</td>
</tr>
<tr>
<td>git push origin master</td>
<td>將本地專案推送至遠端的 master 分支</td>
</tr>
<tr>
<td>git push origin 其他分支名稱(通常與本地端分支名稱相同)</td>
<td>將本地專案推送至遠端的其他分支</td>
</tr>
</tbody></table>
<h2 id="輔助指令"><a href="#輔助指令" class="headerlink" title="輔助指令"></a>輔助指令</h2><table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>git</td>
<td>列出 git 所有指令</td>
</tr>
<tr>
<td>git config –list 或 git config -l</td>
<td>顯示 config 設定</td>
</tr>
<tr>
<td>git –version</td>
<td>版本查詢</td>
</tr>
<tr>
<td>git clean -n</td>
<td>顯示目前工作目錄可清除的檔案</td>
</tr>
<tr>
<td>git clean -f</td>
<td>清空目前工作目錄未被追蹤的檔案</td>
</tr>
<tr>
<td>git log</td>
<td>查看 log 歷史紀錄，最上層是最新的 commit</td>
</tr>
<tr>
<td>git log –oneline</td>
<td>查看簡易的 log 歷史紀錄</td>
</tr>
<tr>
<td>git log index.html</td>
<td>檢視某個檔案的 commit 紀錄</td>
</tr>
<tr>
<td>git reflog 或 git log -g</td>
<td>檢視 commit 所有紀錄，還原很重要的指令</td>
</tr>
<tr>
<td>git branch -r</td>
<td>檢視遠端分支，-r 或 –remote。</td>
</tr>
<tr>
<td>git blame index.html</td>
<td>看看是誰寫的程式</td>
</tr>
<tr>
<td>git blame -L 5,10 index.html</td>
<td>檔案太大，可以顯示程式行數範圍，看誰寫的程式</td>
</tr>
</tbody></table>
<h2 id="短指令"><a href="#短指令" class="headerlink" title="短指令"></a>短指令</h2><p><code>git config --global alias.co checkout</code><br><code>git config --global alias.br branch</code><br><code>git config --global alias.st status</code><br><code>git config --global alias.cm commit</code></p>
<p>也可以到以下目錄的設定檔 <strong>.gitconfig</strong>，設定短指令，此檔案也可以看到其他全域 config –global 的設定</p>
<p>全域設定檔：</p>
<ul>
<li>Win：C:\Users\KaiFu.gitconfig</li>
<li>Mac：~/.gitconfig</li>
</ul>
<h2 id="列出-commit"><a href="#列出-commit" class="headerlink" title="列出 commit"></a>列出 commit</h2><p><code>git log --oneline</code> 列出簡易的 commit 雜湊碼<br><code>git log --oneline --author=&quot;kaifu&quot;</code> 搜尋某人的 commit<br><code>git log --oneline --author=&quot;kaifu|huhu&quot;</code> 搜尋 kaifu 與 huhu 的 commit<br><code>git log --oneline --grep=&quot;wtf&quot;</code> 搜尋符合的關鍵字<br><code>git log -S &quot;Ruby&quot;</code> 檔案內容有提到 “Ruby” 這個字<br><code>git log --oneline --since=&quot;9am&quot; --until=&quot;12am&quot;</code> 查詢早上 9 點至 12 點工作進度</p>
<h2 id="window-終端機指令"><a href="#window-終端機指令" class="headerlink" title="window 終端機指令"></a>window 終端機指令</h2><table>
<thead>
<tr>
<th>指令</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>help</td>
<td>列出所有指令</td>
</tr>
<tr>
<td>指令 /?</td>
<td>查詢指令使用方式</td>
</tr>
<tr>
<td>help 指令</td>
<td>查詢指令使用方式</td>
</tr>
<tr>
<td>cd</td>
<td>切換目錄</td>
</tr>
<tr>
<td>md</td>
<td>建立目錄</td>
</tr>
</tbody></table>
<h1 id="Git-Flow"><a href="#Git-Flow" class="headerlink" title="Git Flow"></a>Git Flow</h1><ul>
<li><p>Master（持續不關閉分支）<br>最穩定版本，隨時可上線版本，此分支的來源只能從別的分支合併過來。不會直接 Commit 這個分支，會在這個分支上的 Commit 打上版本標籤。</p>
</li>
<li><p>Develop（持續不關閉分支）<br>開發分支的基礎，需要新增功能時，所有的 Feature 分支都是這個分支切出去的。而 Feature 分支完成功能後再合併回 Develop，</p>
</li>
<li><p>Hotfix（暫時性分支）<br>線上產品出現問題時，會從 Master 分支開一個 Hotfix 分支出來進行修復，完成後再合併回 Master，同時也合併一分到 Develop。<br>必須如此，因為 Develop 分支完成並合併 Master 的時候，那個問題又會出現。</p>
</li>
<li><p>Release<br>當 Develop 分支夠成熟，就可以合併到 Release 分支，進行上線前的最後測試。測試完成後，Release 分支可以合併到 Master 與 Develop 兩個分支上，<br>Master 分支是上線版本，合併 Develop 分支是因為 Release 分支上還會遇到修正的問題，所以需要跟 Develop 分支同步，免得之後的版本又再度出現同樣的問題。<br>Release 名稱以 release/1.0 數字格式為主，</p>
</li>
<li><p>Feature（暫時性分支）<br>新增功能時，會從 Develop 分支分出 Feature 分支 來開發功能，完成後再合併回 Develop 分支，就可以刪除 Feature 分支。<br>Feature 分支的名稱會以 feature/，例如：feature/新功能名稱或 feature/#9527，#9527 是功能編號。</p>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/git/" rel="tag"># git</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
            </div>
            <div class="post-nav-item">
                <a href="/2020/08/23/lesson-css-01.selectors/" rel="next" title="CSS - 選擇器">
                  CSS - 選擇器 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class=""></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Created by KaiFu Chang</span>
</div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  




  <script src="/js/local-search.js"></script>










<script data-pjax>
if (document.querySelectorAll('.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8.8.2/dist/mermaid.min.js', () => {
    mermaid.init({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}
</script>



  <script>
    NProgress.configure({
      showSpinner: true
    });
    NProgress.start();
    document.addEventListener('readystatechange', () => {
      if (document.readyState === 'interactive') {
        NProgress.inc(0.8);
      }
      if (document.readyState === 'complete') {
        NProgress.done();
      }
    });
    document.addEventListener('pjax:send', () => {
      NProgress.start();
    });
    document.addEventListener('pjax:success', () => {
      NProgress.done();
    });
  </script>


  








    <div class="pjax">
  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink.listen({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://powerkaifu.github.io/2019/10/14/lesson-git/',]
      });
      });
  </script>

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments('#gitalk-container', () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '4c687bd2f02e6a2a0a40',
      clientSecret: 'c49cda32d8eb1f929a4dce2cb9a4477d06099122',
      repo        : 'powerkaifu.github.io',
      owner       : 'powerkaifu',
      admin       : ['powerkaifu'],
      id          : '56e38972768cc58b2969ff780a4d36d8',
        language: 'zh-TW',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

    </div>
</body>
</html>
